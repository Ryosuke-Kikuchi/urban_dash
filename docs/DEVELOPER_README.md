# Urban Dash é–‹ç™ºè€…å‘ã‘README

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

Urban Dashã¯ã€ãƒ‡ãƒªãƒãƒªãƒ¼ãƒ‰ãƒ©ã‚¤ãƒãƒ¼å‘ã‘ã®å‹¤å‹™æ™‚é–“ãƒ»åå…¥ç®¡ç†React Nativeã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

- ğŸ“Š å‹¤å‹™æ™‚é–“ãƒ»ä¼‘æ†©æ™‚é–“ã®è¨˜éŒ²ã¨ç®¡ç†
- ğŸ’° æ¡ˆä»¶ã”ã¨ã®åå…¥ãƒ»ãƒãƒƒãƒ—è¨˜éŒ²
- ğŸ“ˆ è©³ç´°ãªçµ±è¨ˆã¨ã‚°ãƒ©ãƒ•è¡¨ç¤º
- â±ï¸ åœ°è”µæ™‚é–“ï¼ˆå¾…æ©Ÿæ™‚é–“ï¼‰ã®è‡ªå‹•è¨ˆç®—
- ğŸ’µ å®Ÿè³ªæ™‚çµ¦ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—
- ğŸ“± ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
- ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿åŒæœŸ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React Native** 0.72.x
- **TypeScript** 4.9.x
- **React Navigation** 6.xï¼ˆç”»é¢é·ç§»ï¼‰
- **React Native Elements** 3.xï¼ˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- **React Context API**ï¼ˆçŠ¶æ…‹ç®¡ç†ï¼‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Firebase Authentication**ï¼ˆèªè¨¼ï¼‰
- **Firebase Firestore**ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- **Firebase Hosting**ï¼ˆã‚¦ã‚§ãƒ–ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼‰

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **Jest**ï¼ˆãƒ†ã‚¹ãƒˆï¼‰
- **ESLint**ï¼ˆã‚³ãƒ¼ãƒ‰å“è³ªï¼‰
- **Prettier**ï¼ˆã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
- **TypeScript**ï¼ˆå‹å®‰å…¨æ€§ï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
UrbanDash/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ AddCaseModal.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ screens/             # ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ HomeScreen.tsx
â”‚   â”‚   â”œâ”€â”€ HistoryScreen.tsx
â”‚   â”‚   â”œâ”€â”€ StatisticsScreen.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ context/             # React Context
â”‚   â”‚   â”œâ”€â”€ AuthContext.tsx
â”‚   â”‚   â””â”€â”€ WorkContext.tsx
â”‚   â”œâ”€â”€ services/            # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
â”‚   â”‚   â”œâ”€â”€ FirebaseService.ts
â”‚   â”‚   â””â”€â”€ StorageService.ts
â”‚   â”œâ”€â”€ utils/               # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”‚   â”œâ”€â”€ performance.ts
â”‚   â”‚   â””â”€â”€ sanitization.ts
â”‚   â”œâ”€â”€ config/              # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ app.ts
â”‚   â””â”€â”€ navigation/          # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”œâ”€â”€ __tests__/               # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docs/                    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ android/                 # Androidå›ºæœ‰è¨­å®š
â”œâ”€â”€ ios/                     # iOSå›ºæœ‰è¨­å®š
â””â”€â”€ package.json
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 16.x ä»¥ä¸Š
- npm ã¾ãŸã¯ yarn
- React Native CLI
- Android Studioï¼ˆAndroidé–‹ç™ºï¼‰
- Xcodeï¼ˆiOSé–‹ç™ºï¼‰
- Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**
```bash
git clone https://github.com/urbandash/app.git
cd UrbanDash
```

2. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```bash
npm install
# ã¾ãŸã¯
yarn install
```

3. **Firebaseè¨­å®š**
```bash
# firebase.jsonã¨firestore.rulesã‚’è¨­å®š
# google-services.jsonã‚’android/app/ã«é…ç½®
# GoogleService-Info.plistã‚’ios/UrbanDash/ã«é…ç½®
```

4. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cp .env.example .env
# Firebaseè¨­å®šã‚’è¨˜å…¥
```

5. **iOSä¾å­˜é–¢ä¿‚ï¼ˆiOSé–‹ç™ºã®å ´åˆï¼‰**
```bash
cd ios && pod install && cd ..
```

6. **ã‚¢ãƒ—ãƒªã®èµ·å‹•**
```bash
# Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿
npm run android

# iOSã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿
npm run ios

# Metro Bundler
npm start
```

## é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

- `main` - æœ¬ç•ªç’°å¢ƒ
- `develop` - é–‹ç™ºç’°å¢ƒ
- `feature/æ©Ÿèƒ½å` - æ©Ÿèƒ½é–‹ç™º
- `hotfix/ä¿®æ­£å†…å®¹` - ç·Šæ€¥ä¿®æ­£

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„

```
feat: æ–°æ©Ÿèƒ½è¿½åŠ 
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
style: ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
chore: ãã®ä»–ã®å¤‰æ›´
```

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

1. `develop`ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰`feature/æ©Ÿèƒ½å`ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. æ©Ÿèƒ½é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè£…
3. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
4. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
5. `develop`ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
UI Component
    â†“
Context API (çŠ¶æ…‹ç®¡ç†)
    â†“
Service Layer (Firebase)
    â†“
Firestore Database
```

### ä¸»è¦ãªContext

**AuthContext**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼çŠ¶æ…‹ç®¡ç†
- ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

**WorkContext**
- å‹¤å‹™çŠ¶æ…‹ç®¡ç†
- æ™‚é–“è¨ˆç®—ï¼ˆå‹¤å‹™ãƒ»ä¼‘æ†©ãƒ»åœ°è”µæ™‚é–“ï¼‰
- æ¡ˆä»¶ç®¡ç†
- çµ±è¨ˆè¨ˆç®—

### ã‚µãƒ¼ãƒ“ã‚¹å±¤

**FirebaseService**
- Firestoreæ“ä½œã®æŠ½è±¡åŒ–
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ

**StorageService**
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†
- è¨­å®šä¿å­˜
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†

## ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆç¨®åˆ¥

1. **å˜ä½“ãƒ†ã‚¹ãƒˆ**ï¼ˆ`__tests__/calculations.test.ts`ï¼‰
   - è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
   - ãƒ‡ãƒ¼ã‚¿å¤‰æ›é–¢æ•°
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°

2. **çµ±åˆãƒ†ã‚¹ãƒˆ**ï¼ˆ`__tests__/integration.test.ts`ï¼‰
   - ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®ãƒ†ã‚¹ãƒˆ
   - APIé€£æºãƒ†ã‚¹ãƒˆ

3. **ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆ**ï¼ˆ`__tests__/scenarios.test.ts`ï¼‰
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ª
   - ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
npm run test:coverage

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆ
npm test calculations.test.ts
```

## ãƒ‡ãƒãƒƒã‚°

### ãƒ­ã‚°å‡ºåŠ›

```typescript
import { sanitizeDebugInfo } from '../utils/sanitization';

// é–‹ç™ºç’°å¢ƒã§ã®ã¿ãƒ­ã‚°å‡ºåŠ›
if (__DEV__) {
  console.log('Debug:', sanitizeDebugInfo(data));
}
```

### Flipperé€£æº

React Native Flipperã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’ç¢ºèªã§ãã¾ã™ã€‚

### React Native Debugger

Chrome DevToolsã¾ãŸã¯React Native Debuggerã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒãƒƒã‚°å¯èƒ½ã§ã™ã€‚

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ¡ãƒ¢åŒ–

```typescript
import { useOptimizedCalculations } from '../utils/performance';

// è¨ˆç®—çµæœã‚’ãƒ¡ãƒ¢åŒ–
const {
  workingTimeFormatted,
  hourlyRateFormatted
} = useOptimizedCalculations(/* params */);
```

### ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–

- React.memo ã®ä½¿ç”¨
- useCallback / useMemo ã®é©åˆ‡ãªä½¿ç”¨
- ä¸è¦ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®é˜²æ­¢

### ãƒ¡ãƒ¢ãƒªç®¡ç†

```typescript
import { useMemoryMonitor } from '../utils/performance';

const { checkMemoryUsage } = useMemoryMonitor();
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å…¥åŠ›å€¤ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³

```typescript
import { sanitizeDeliveryCaseData } from '../utils/sanitization';

const sanitizedData = sanitizeDeliveryCaseData(inputData);
```

### Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

`firestore.rules`ãƒ•ã‚¡ã‚¤ãƒ«ã§å³æ ¼ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’å®Ÿè£…ã€‚

## ãƒ‡ãƒ—ãƒ­ã‚¤

### Android

```bash
# ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ä½œæˆ
cd android
./gradlew assembleRelease

# APKãƒ•ã‚¡ã‚¤ãƒ«ã¯ android/app/build/outputs/apk/release/ ã«ç”Ÿæˆ
```

### iOS

```bash
# Xcodeã§ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ä½œæˆ
# ã¾ãŸã¯
npx react-native run-ios --configuration Release
```

### Firebase

```bash
# Firestoreãƒ«ãƒ¼ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only firestore:rules

# ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only firestore:indexes
```

## ç’°å¢ƒå¤‰æ•°

### å¿…è¦ãªç’°å¢ƒå¤‰æ•°

```env
FIREBASE_API_KEY=your_api_key
FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
FIREBASE_PROJECT_ID=your_project_id
FIREBASE_STORAGE_BUCKET=your_project.appspot.com
FIREBASE_MESSAGING_SENDER_ID=123456789
FIREBASE_APP_ID=1:123456789:android:abc123def456
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **Metroã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„**
```bash
npx react-native start --reset-cache
```

2. **Androidãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**
```bash
cd android && ./gradlew clean && cd ..
```

3. **iOSãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**
```bash
cd ios && pod install && cd ..
```

4. **Firebaseæ¥ç¶šã‚¨ãƒ©ãƒ¼**
- google-services.json / GoogleService-Info.plist ã®é…ç½®ç¢ºèª
- Firebaseè¨­å®šã®ç¢ºèª

### ãƒ­ã‚°ã®ç¢ºèª

```bash
# Androidãƒ­ã‚°
npx react-native log-android

# iOSãƒ­ã‚°
npx react-native log-ios
```

## ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

1. **TypeScriptå³æ ¼ãƒ¢ãƒ¼ãƒ‰ä½¿ç”¨**
2. **ESLintãƒ»Prettierãƒ«ãƒ¼ãƒ«ã«å¾“ã†**
3. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é©åˆ‡ãªåˆ†å‰²**
4. **ãƒ†ã‚¹ãƒˆã®è¨˜è¿°**
5. **å‹å®‰å…¨æ€§ã®ç¢ºä¿**

### ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚¤ãƒ³ãƒˆ

- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è€ƒæ…®
- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£
- ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

## ãƒªã‚½ãƒ¼ã‚¹

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [React Native](https://reactnative.dev/)
- [Firebase](https://firebase.google.com/docs)
- [React Navigation](https://reactnavigation.org/)

### å‚è€ƒè³‡æ–™

- [React Native Best Practices](https://github.com/microsoft/react-native-code-push)
- [Firebase Security Rules](https://firebase.google.com/docs/rules)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ãŠå•ã„åˆã‚ã›

### é–‹ç™ºãƒãƒ¼ãƒ 

- **ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰**: tech-lead@urbandash.app
- **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: pm@urbandash.app
- **ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼**: design@urbandash.app

### ã‚µãƒãƒ¼ãƒˆ

- **GitHub Issues**: https://github.com/urbandash/app/issues
- **é–‹ç™ºè€…Slack**: #urbandash-dev
- **æŠ€è¡“ãƒ–ãƒ­ã‚°**: https://tech.urbandash.app

---

**Happy Coding! ğŸš€** 